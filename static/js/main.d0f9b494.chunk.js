(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(18),s=n.n(i),a=(n(40),n(41),n(42),n(61)),r=n(2),l=n(59),o=n(7),d=n(5),j=n(33);var b=function(e){var t={method:e.method,headers:e.headers};e.body&&(t.body=JSON.stringify(e.body)),fetch("https://hugoluc.com/API/boulder/test"+e.url,t).then((function(e){return e.json()})).then(e.sucess,e.error)};var u=function(e){var t=e.url,n=e.fetchOnMount,i=e.method,s=e.body,a=e.image,l=e.sucess,o=e.error,d=Object(c.useState)(!1),j=Object(r.a)(d,2),u=j[0],h=j[1],O=Object(c.useState)(null),x=Object(r.a)(O,2),f=x[0],g=x[1],v=Object(c.useState)(null),p=Object(r.a)(v,2),m=p[0],C=p[1];Object(c.useEffect)((function(){n&&w(s)}),[]);var w=function(e){h(!0),b({body:e,method:i||"GET",headers:a?{"Content-Type":"application/octet-stream"}:{"Content-Type":"application/json"},url:t,sucess:function(e){l&&l(e),g(e),h(!1),C(!1)},error:function(){o&&o(o),h(!1),g(!1),C(!0)}})};return{loading:u,content:f,errorState:m,onFetch:w}},h=Object(c.createContext)({user:{userId:void 0},setUser:function(){}}),O=n(0);function x(){var e=Object(l.a)(["boulderLogIn"])[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(j.GoogleLogin,{clientId:"214353997296-artcjpliv3d6gakq2bp1i3sg2h2227j5.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(t){e("boulderLogIn",t.googleId,{maxAge:9999999})},onFailure:function(e){},cookiePolicy:"single_host_origin"}),","]})}function f(e){var t=Object(l.a)(["boulderLogIn"])[0],n=u({url:"/user/".concat(t.boulderLogIn),fetchOnMount:!0,sucess:function(t){e.setUser(t)}}),c=n.content,i=n.error;return c?e.children:i?Object(O.jsx)("div",{children:" ERROR loading user "}):Object(O.jsx)("div",{children:" LOADING USER "})}function g(e){(0,Object(l.a)(["boulderLogIn"])[1])("boulderLogIn","113830080676068864658",{maxAge:9999999});var t=Object(l.a)(["boulderLogIn"])[0],n=Object(c.useState)({}),i=Object(r.a)(n,2),s=i[0],a=i[1],j={user:s,setUser:a};return t.boulderLogIn?Object(O.jsx)(h.Provider,{value:j,children:Object(O.jsx)(o.a,{children:Object(O.jsx)(f,{setUser:a,children:e.children})})}):Object(O.jsxs)(o.a,{children:[Object(O.jsx)(d.a,{to:"/login"}),Object(O.jsx)(d.d,{children:Object(O.jsx)(d.b,{exact:!0,path:"/login",children:Object(O.jsx)(x,{})})})]})}var v=n(3);var p=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){setTimeout((function(){s(e.visible)}),e.delay+1)})),Object(O.jsx)("div",{onClick:e.clickFunc,style:{transform:i?"scale(1)":"scale(0)",background:e.color?e.color:"#ffffff"},className:"flaotinBtn",children:Object(O.jsx)("div",{className:"contentWrapper",children:e.content})})};var m=function(e){return Object(O.jsx)("div",{className:"backBtn",style:{transform:e.fadeIn?"scale(1)":"scale(0)"},onClick:function(){e.back()},children:Object(O.jsx)("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M7 12L2 7L7 2",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})})};function C(e){var t=Object(c.useState)(e.closeForm),n=Object(r.a)(t,2),i=n[0],s=n[1];Object(c.useEffect)((function(){setTimeout((function(){s(!0)}),10)}),[]),i&&!e.closeForm&&s(!1);var a={},l=e.children?e.children.map((function(e,t){return a[e.props.id]=e.props.selectedValue,Object(c.cloneElement)(e,{visible:i,key:t,delay:50*t,delayOut:75-25*t,dataChangeCallBack:function(t){j[e.props.id]=t,b(j)}})})):null,o=Object(c.useState)(a),d=Object(r.a)(o,2),j=d[0],b=d[1];function u(){s(!1),e.back()}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{id:"floatingWrapper",style:{height:"100%",top:0,width:"100%",position:"fixed"},children:Object(O.jsx)(p,{content:e.btnContent,color:e.btnColor,visible:i,clickFunc:function(){e.formCallBack(j)}})}),Object(O.jsxs)("div",{className:"formWrapper",children:[Object(O.jsxs)("div",{className:"formHeader",style:{opacity:i?"1":"0"},children:[e.backBtn?Object(O.jsx)(m,{back:u,fadeIn:i}):null,Object(O.jsx)("div",{className:"fromHeaderContent",children:e.headerTitle})]}),Object(O.jsxs)("div",{className:"formOptionWrapper",children:[l,Object(O.jsx)("div",{style:{height:"120px"},children:" "})]})]})]})}var w=n(60),y=n(62),L=(n(52),n(35)),k=n.n(L);var S=function(e,t,n){var c=window.innerWidth;return{x:e/c,y:t/(1.4*c)}},V=function(e,t,n){var c=window.innerWidth;return{x:e*c,y:t*c*1.4}},I=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(void 0!==e.hold.type?e.hold.type:3),l=Object(r.a)(a,2),o=l[0],d=l[1],j=Object(c.useState)(3===o?5:10),b=Object(r.a)(j,2),u=b[0],h=b[1],x=V(e.hold.x,e.hold.y,u),f=Object(c.useState)(Object(v.a)({},x)),g=Object(r.a)(f,2),p=g[0],m=g[1],C={x:0,y:0},w=!1,y={width:u,height:u,border:"".concat(["#FF94B4","#47C095","#EFC75F","rgba(255,255,255,0.3)","#EFC75F"][o]," solid 5px")};y.left=x.x-u/2,y.top=x.y-u/2;var L=function(){if(e.edit){var t=(o+1)%4;d(t),h(3===t?5:10),e.onTypeChange&&e.onTypeChange(t)}},I=function(){if(e.interacting)return!1;d(i?3:4),s(!i)};if(e.drag){var N=e.scale>1?e.scale:1;return Object(O.jsx)(k.a,{onDrag:function(t,n){if(C.x=C.x+n.deltaX,C.y=C.y+n.deltaY,Math.abs(C.y)>1&&Math.abs(C.x)>1&&(w=!0),e.interacting)return!1;if(!i)return!1;var c=S(n.x,n.y,u);e.onDrag&&e.onDrag({id:e.id,position:{x:e.hold.x+c.x,y:e.hold.y+c.y},hasMoved:w})},scale:N,children:Object(O.jsx)("div",{id:e.id,onTouchStart:function(t){if(e.interacting)return!1;e.setSelectTimeOut(setTimeout(I,1e3)),e.touchStart&&e.touchStart(t)},onTouchEnd:function(t){m({x:p.x+C.x,y:p.y+C.y}),C={x:0,y:0},w=!0,e.onTouchEnd&&e.onTouchEnd(t)},className:"hold",style:y,onClick:L})})}return Object(O.jsx)("div",{className:"hold",id:e.id,style:y,onClick:L})};var N=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(0),l=Object(r.a)(a,2),o=l[0],d=l[1],j=Object(c.useState)(0),b=Object(r.a)(j,2),u=b[0],h=b[1],x=Object(c.useState)({with:0,height:0,ratio:0}),f=Object(r.a)(x,2),g=f[0],p=f[1],m=u/g.ratio,C=i?"translateY(".concat((o-m)/2,"px)"):"",w=Object(c.useState)((function(){var t={};for(var n in e.holds)3!==e.holds[n].type&&(t[n]=e.holds[n].type);return Object.keys(e.holds).map((function(n,c){return 3!==e.holds[n].type&&(t[n]=e.holds[n].type),null})),t}))[0],y={width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundSize:"contain"},L=function(t,n){return Object(c.createElement)(I,Object(v.a)(Object(v.a)({},e),{},{interaction:e.interacting,key:t,id:t,hold:e.holds[t],onTypeChange:function(n){e.edit&&(3===n?delete w[t]:w[t]=n,e.onTypeChange(w,e.viewId))}}))};return console.log(C),Object(O.jsx)("div",{style:{transform:C,background:"black",height:"calc(100% - ".concat((o-m)/2,"px)")},className:"board",ref:function(e){e&&(d(e.clientHeight),h(e.clientWidth))},children:i?(y.backgroundImage="url(".concat(e.imageUrl,")"),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"holdsWrapper",children:[" ",Object.keys(e.holds).map(L)," "]}),Object(O.jsx)("div",{style:y,alt:""}),Object(O.jsx)("img",{alt:"",style:{display:e.slides?"block":"none"},src:e.imageUrl})]})):Object(O.jsx)("img",{alt:"",onLoad:function(e){s(!0),p({width:e.target.width,height:e.target.height,ratio:e.target.width/e.target.height})},style:{display:"block"},src:e.imageUrl})})};var F=function(e){return Object(O.jsxs)("div",{className:"sliderCounter",children:["View ",e.index+1," / ",Object.keys(e.views).length]})};var B=function(e){var t=Object(c.useState)(0),n=Object(r.a)(t,2),i=n[0],s=n[1],a=function(t,n){l[n].holds=t,e.onTypeChange(l)},l=Object(v.a)({},e.selectedHolds),o=e.views?Object(v.a)({},e.views):Object(v.a)({},e.selectedHolds),d=e.views?function(e,t){for(var n in t)for(var c in t[n].holds)e[n]&&void 0!==e[n].holds[c]?t[n].holds[c].type=e[n].holds[c]:t[n].holds[c].type=3;return t}(l,o):e.selectedHolds,j=Object(c.useState)(d)[0];return Object.keys(o).length>1?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(F,{views:j,index:i}),Object(O.jsx)(y.a,{onSlideChange:function(t){s(t.activeIndex),e.changeSlide&&e.changeSlide(t)},allowSlideNext:e.enableSwipe,allowSlidePrev:e.enableSwipe,children:Object.keys(j).map((function(t,n){return Object(O.jsx)(w.a,{children:Object(O.jsx)(N,Object(v.a)(Object(v.a)(Object(v.a)({},e),j[0]),{},{onTypeChange:a,viewId:n,slides:!0}))},n)}))})]}):Object(O.jsx)(N,Object(v.a)(Object(v.a)(Object(v.a)({},e),j[0]),{},{onTypeChange:a,viewId:"0",slides:!1}))};var T=function(e){var t,n,i=Object(c.useState)(!1),s=Object(r.a)(i,2),a=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(r.a)(o,2),j=d[0],b=d[1];function u(){l(!1),e.back(),setTimeout((function(){b(!1)}),200)}return Object(c.useEffect)((function(){e.rendering&&(b(!0),setTimeout((function(){l(!0)}),10))}),[e.rendering]),j?(e.fullScreen?(t="100%",n="100%"):t="calc(100% - 150px)",Object(O.jsx)("div",{className:"popUpWrapper",style:{opacity:a?"1":"0"},children:Object(O.jsxs)("div",{className:"popUp",style:{height:a?t:"calc(100% - 200px)",width:n},children:[Object(O.jsx)("div",{className:"top",onClick:function(){u()},children:" "}),Object(O.jsxs)("div",{className:"content",children:[" ",e.content," "]}),Object(O.jsx)("div",{className:"bottonBtn",onClick:function(){e.okFunc(),u()},children:" Ok "})]})})):null};var M=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(!1),l=Object(r.a)(a,2),o=l[0],d=l[1],j=e.visible?e.delay:e.delayOut;Object(c.useEffect)((function(){setTimeout((function(){s(e.visible)}),j+1)}));var b=e.children?Object(O.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M15.4044 3.82995L12.6643 1.43124C12.3067 1.13718 11.8381 0.968449 11.3477 0.957149C10.8572 0.94585 10.3791 1.09277 10.0043 1.36996L1.00421 9.24894C0.680976 9.5343 0.479713 9.90833 0.434208 10.3082L0.004203 13.9588C-0.00926819 14.087 0.00973739 14.2163 0.0598648 14.3373C0.109992 14.4584 0.190007 14.5683 0.294206 14.6592C0.387647 14.7403 0.498465 14.8045 0.620304 14.8481C0.742142 14.8916 0.872606 14.9137 1.00421 14.9131H1.09422L5.26426 14.5804C5.72106 14.5405 6.14831 14.3644 6.47428 14.0814L15.4744 6.2024C15.8237 5.87934 16.0125 5.44822 15.9994 5.00352C15.9862 4.55882 15.7723 4.1368 15.4044 3.82995ZM5.08426 12.8295L2.08423 13.0746L2.35423 10.4483L8.00429 5.56333L10.7043 7.92702L5.08426 12.8295ZM12.0043 6.75393L9.32431 4.40775L11.2743 2.65686L14.0044 5.04682L12.0043 6.75393Z",fill:"white"})}):Object(O.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("rect",{x:"6.48645",width:"3.02703",height:"16",fill:"white"}),Object(O.jsx)("rect",{x:"16",y:"6.48651",width:"3.02703",height:"16",transform:"rotate(90 16 6.48651)",fill:"white"})]});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"formOption",style:{background:e.children?"rgba(255,255,255,0.03)":"",opacity:i?"1":"0",transform:i?"translateY(0)":"translateY(-10px)"},onClick:function(){e.openPop(),d(!0)},children:[Object(O.jsxs)("div",{className:"title",children:[Object(O.jsxs)("div",{children:[" ",e.title," "]}),Object(O.jsx)("div",{className:"icon",style:{},children:b})]}),Object(O.jsx)("div",{className:"selectedValues",children:e.children})]}),Object(O.jsx)(T,{content:e.popUpContent,rendering:o,fullScreen:e.fullScrennPopUp,back:function(){e.closePopUp(),d(!1)},okFunc:e.okFunc})]})};var H=function(e){var t={};for(var n in e.selectedValue)t[n]=Object(v.a)({},e.selectedValue[n]);var i={};for(var s in e.selectedValue)i[s]=Object(v.a)({},e.selectedValue[s]);var a=Object(c.useState)(Object(v.a)({},t))[0],l=Object(c.useState)(Object(v.a)({},i)),o=Object(r.a)(l,2),d=o[0],j=o[1],b=e.options,u=Object(O.jsx)(B,{views:b,selectedHolds:Object(v.a)({},d),edit:!0,drag:!1,onTypeChange:function(){}});return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(M,Object(v.a)(Object(v.a)({},e),{},{fullScrennPopUp:!0,okFunc:function(t){for(var n in d)a[n]=Object(v.a)({},d[n]);j(Object(v.a)({},i)),e.dataChangeCallBack(a)},closePopUp:function(){for(var e in a)i[e]=Object(v.a)({},a[e]);j(Object(v.a)({},i))},openPop:function(){},popUpContent:u,children:function(){var e=["#E56EA0","#47C095","#DBB962"],t=Object.keys(a[0].holds);return 0===t.length?null:Object(O.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t.map((function(t,n){return Object(O.jsxs)("div",{className:"value",style:{background:e[a[0].holds[t]],color:"white"},children:[" ",t," "]},n)}))})}()}))})},A=n(14);var U=function(e){return Object(O.jsx)("div",{className:"selectOptionContainer",onClick:function(){e.clickFunc(!e.state,e.value)},children:Object(O.jsx)("div",{style:{background:e.state?"#47C095":"#34206C",color:"white",width:"50px",height:"50px",borderRadius:"50px",textAlign:"center",lineHeight:"45px"},children:e.label})})};var E=function(e){var t=Object(c.useState)(Object(A.a)(e.selectedValue)),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(Object(A.a)(i)),l=Object(r.a)(a,2),o=l[0],d=l[1];function j(t,n){var c=o.indexOf(String(n));(!e.selectLimit||o.length<e.selectLimit||c>=0)&&(c>=0?(o.splice([c],1),d(Object(A.a)(o))):(o.push(String(n)),d(Object(A.a)(o))))}return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(M,Object(v.a)(Object(v.a)({},e),{},{fullScrennPopUp:!1,setSelectedValue:s,selectedValue:i,okFunc:function(){i=Object(A.a)(o),s(i),e.dataChangeCallBack(o)},closePopUp:function(){d(Object(A.a)(i))},openPop:function(){},popUpContent:Object.keys(e.options).map((function(t,n){return Object(O.jsx)(U,{value:e.options[t],state:o.indexOf(String(e.options[t]))>-1,label:t,available:!0,clickFunc:j},n)})),children:i.length>0?Object(O.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:Object.keys(e.options).map((function(t,n){return i.includes(e.options[t].toString())?Object(O.jsxs)("div",{className:"value",children:[" ",t," "]},n):null}))}):null}))})};var Z=function(e){var t=Object(c.useState)(e.selectedValue),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(i),l=Object(r.a)(a,2),o=l[0],d=l[1],j=Object(c.useRef)(null),b=function(){return Object(c.useEffect)((function(){j.current.innerHTML=i,j.current.focus()})),Object(O.jsx)("div",{className:"textInputValue",contentEditable:"True",ref:j,onBlur:function(e){d(e.target.innerHTML.replaceAll("<div>"," ").replaceAll("</div>"," ").replaceAll("<br>"," "))}})};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(M,Object(v.a)(Object(v.a)({},e),{},{fullScrennPopUp:!1,setSelectedValue:s,selectedValue:i,okFunc:function(){s(o),e.dataChangeCallBack(o)},closePopUp:function(){d(i)},openPop:function(){},popUpContent:Object(O.jsx)("div",{className:"textInputContaier",onClick:function(){j.current.focus()},children:Object(O.jsx)(b,{})}),children:i}))})};var D=function(e){var t=Object(d.g)(),n=Object(d.h)().boardId,i=Object(c.useState)(!1),s=Object(r.a)(i,2),a=s[0],l=s[1],o=e.visible?e.delay:e.delayOut;Object(c.useEffect)((function(){setTimeout((function(){l(e.visible)}),o+1)}));var j=e.views?Object(O.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M15.4044 3.82995L12.6643 1.43124C12.3067 1.13718 11.8381 0.968449 11.3477 0.957149C10.8572 0.94585 10.3791 1.09277 10.0043 1.36996L1.00421 9.24894C0.680976 9.5343 0.479713 9.90833 0.434208 10.3082L0.004203 13.9588C-0.00926819 14.087 0.00973739 14.2163 0.0598648 14.3373C0.109992 14.4584 0.190007 14.5683 0.294206 14.6592C0.387647 14.7403 0.498465 14.8045 0.620304 14.8481C0.742142 14.8916 0.872606 14.9137 1.00421 14.9131H1.09422L5.26426 14.5804C5.72106 14.5405 6.14831 14.3644 6.47428 14.0814L15.4744 6.2024C15.8237 5.87934 16.0125 5.44822 15.9994 5.00352C15.9862 4.55882 15.7723 4.1368 15.4044 3.82995ZM5.08426 12.8295L2.08423 13.0746L2.35423 10.4483L8.00429 5.56333L10.7043 7.92702L5.08426 12.8295ZM12.0043 6.75393L9.32431 4.40775L11.2743 2.65686L14.0044 5.04682L12.0043 6.75393Z",fill:"white"})}):Object(O.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("rect",{x:"6.48645",width:"3.02703",height:"16",fill:"white"}),Object(O.jsx)("rect",{x:"16",y:"6.48651",width:"3.02703",height:"16",transform:"rotate(90 16 6.48651)",fill:"white"})]});return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"formOption",style:{background:e.views?"rgba(255,255,255,0.03)":"",opacity:a?"1":"0",transform:a?"translateY(0)":"translateY(-10px)"},onClick:function(){t.push("/board/".concat(n,"/views/").concat(Object.keys(e.views)[0]))},children:[Object(O.jsxs)("div",{className:"title",children:[Object(O.jsxs)("div",{children:[" ",e.title," "]}),Object(O.jsx)("div",{className:"icon",style:{},children:j})]}),Object(O.jsx)("div",{className:"selectedValues",children:Object(O.jsxs)("div",{className:"textWrapper",children:[Object.keys(e.views).length," Views"]})})]})})};function W(){this.gradesIndex={French:{5:0,"5+":1,"6A":2,"6A+":3,"6B":4,"6B+":5,"6C":6,"6C+":7,"7A":8,"7A+":9,"7B":10,"7b+":11,"7C":12,"7C+":13,"8A":14,"8A+":15,"8B":16,"8B+":17,"8C":18,"8C+":19,"9A":20},Vscale:["Vb","V0","V1","V1"]},this.currentGradeSystem="French",this.angles={0:0,5:1,10:2,15:3,20:4,25:5,30:6}}W.prototype.getGradeByIndex=function(e){for(var t,n=this.getCurrentGradeList(),c=Object.keys(n),i=0;i<c.length;i++){var s=c[i];if(n[s]===e){t=s;break}}return t},W.prototype.getAngleByIndex=function(e){var t,n=this;return Object.keys(this.getAngleList()).map((function(c,i){return n.getAngleList()[c]===e&&(t=c),null})),t},W.prototype.setGradeSystem=function(e){this.currentGradeSystem=e},W.prototype.getCurrentGradeList=function(e){return this.gradesIndex[this.currentGradeSystem]},W.prototype.getAngleList=function(e){return this.angles};var P=W,G=new P,q=G.getCurrentGradeList(),R=G.getAngleList();var Y=function(e){function t(){setTimeout((function(){e.setHeaderVisible(!0)}),400),e.setOpen(!1),e.setClosing(!0)}return e.formVisible?Object(O.jsx)("div",{id:"formWrapper",style:{position:"absolute",width:"100%",height:"100%",zIndex:999},children:Object(O.jsxs)(C,{closeForm:e.isOpen,floatingContent:"OK",floatingType:"white",actionName:"Clear",formCallBack:function(n){e.onFilterUpdate({angle:n.angle,grade:n.grade,rating:n.rating,holds:n.holds}),t()},back:t,backOnCallback:!1,headerTitle:"Filters",isVisible:e.formVisible,backBtn:!0,children:[Object(O.jsx)(E,{title:"Angle",selectedValue:e.filtersData.angle,options:R,selectLimit:!1,id:"angle"}),Object(O.jsx)(E,{title:"Grade",selectedValue:e.filtersData.grade,options:q,selectLimit:!1,id:"grade"}),Object(O.jsx)(H,{title:"Holds",selectedValue:e.filtersData.holds,options:e.views,selectLimit:!1,id:"holds"})]})}):null},K=Object(c.createContext)({board:void 0,setBoard:function(){}});function z(e){var t=e.headerVisible,n=e.setVisible,c=e.setOpen,i=e.setHeaderVisible,s=e.onFilterUpdate,a=e.isOpen,r=e.views,l=e.setClosing,o=e.formVisible,d=e.filtersData;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Y,{setOpen:c,isOpen:a,formVisible:o,setClosing:l,setHeaderVisible:i,filtersData:d,onFilterUpdate:s,views:r}),Object(O.jsxs)("div",{className:"searchwrapper",style:{height:"60px",transition:t?"opacity 200ms":"opacity 100ms",opacity:t?1:0},children:[Object(O.jsx)(J,{nameFilter:function(e){s({name:[e.target.value]})}}),Object(O.jsx)("div",{className:"filterName",onClick:function(){n(!0),c(!0),i(!1)},style:{marginRight:"20px"},children:"Filtrar"})]})]})}function J(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useRef)(null),l="100%";return Object(O.jsxs)("div",{style:{width:i?l:"15px"},className:"searchBox",children:[Object(O.jsx)("input",{ref:a,style:{width:i?l:"0px",opacity:i?1:0},className:"searchInput",onChange:e.nameFilter}),Object(O.jsx)("div",{className:"searchIcon",style:{opacity:i?.4:1,transform:i?"scale(0.7)":"scale(0.9)"},onClick:function(){s(!i),i?(a.current.value="",e.nameFilter({target:{value:""}})):a.current.focus()},children:Object(O.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M8.91398 1C11.0129 1 13.0258 1.83382 14.51 3.31802C15.9942 4.80222 16.828 6.81524 16.828 8.91422C16.828 10.6487 16.2698 12.2524 15.3243 13.5569L20.6275 18.8603C20.8568 19.0863 20.99 19.392 20.9995 19.7138C21.0089 20.0356 20.8938 20.3486 20.6781 20.5876C20.4624 20.8266 20.1628 20.9731 19.8418 20.9967C19.5207 21.0202 19.2029 20.9189 18.9547 20.7139L18.8598 20.6281L13.5566 15.3247C12.2072 16.3047 10.5816 16.8312 8.91398 16.8284C6.81506 16.8284 4.80211 15.9946 3.31795 14.5104C1.83379 13.0262 1 11.0132 1 8.91422C1 6.81524 1.83379 4.80222 3.31795 3.31802C4.80211 1.83382 6.81506 1 8.91398 1V1ZM8.91398 3.49923C7.47787 3.49923 6.10059 4.06973 5.08512 5.08524C4.06964 6.10075 3.49915 7.47807 3.49915 8.91422C3.49915 10.3504 4.06964 11.7277 5.08512 12.7432C6.10059 13.7587 7.47787 14.3292 8.91398 14.3292C10.3501 14.3292 11.7274 13.7587 12.7428 12.7432C13.7583 11.7277 14.3288 10.3504 14.3288 8.91422C14.3288 7.47807 13.7583 6.10075 12.7428 5.08524C11.7274 4.06973 10.3501 3.49923 8.91398 3.49923V3.49923Z",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"0.4"})})})]})}var _=function(e){var t=Object(c.useContext)(K).board,n=t.board?t.board.views:{},i=Object(c.useState)(!1),s=Object(r.a)(i,2),a=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(r.a)(o,2),j=d[0],b=d[1],u=Object(c.useState)(!0),h=Object(r.a)(u,2),x=h[0],f=h[1],g=Object(c.useState)(!1),p=Object(r.a)(g,2),m=p[0],C=p[1],w=a?"100%":"130px";return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{id:"header",style:{height:w,flexShrink:0},children:Object(O.jsxs)("div",{className:"filterHeader",style:{height:w},onTransitionEnd:function(e){!function(e){"height"===e.propertyName&&m&&(b(!1),C(!1))}(e)},children:[Object(O.jsx)("div",{className:"boardSelector",style:{height:"70px",transition:x?"opacity 200ms":"opacity 100ms",opacity:x?1:0},children:Object(O.jsxs)("div",{className:"hamburguerMenu",onClick:function(){e.setSideMenu(!0)},children:[Object(O.jsx)("div",{style:{transform:"scale(0.7)"},children:Object(O.jsxs)("svg",{width:"29",height:"23",viewBox:"0 0 29 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("rect",{width:"15",height:"4",rx:"2",fill:"#FAFAFA"}),Object(O.jsx)("rect",{y:"19",width:"30",height:"4",rx:"2",fill:"#FAFAFA"}),Object(O.jsx)("rect",{y:"9",width:"23",height:"4",rx:"2",fill:"#FAFAFA"})]})}),Object(O.jsx)("div",{className:"boardName",children:t.board?t.board.name:""})]})}),Object(O.jsx)(z,{headerVisible:x,setHeaderVisible:f,setVisible:b,formVisible:j,setOpen:l,isOpen:a,setClosing:C,onFilterUpdate:function(t){var n=Object(v.a)({},e.filtersData);n=Object.assign(n,t),e.setFilterData(n)},views:n,filtersData:e.filtersData})]})})})},X=new P;var Q=function(e){var t=e.bg?{background:"white",color:"#34206C"}:{},n=e.bg?{background:"white",color:"#34206C",marginRight:"10px"}:{marginRight:"10px"};return Object(O.jsxs)("div",{className:"indicatorContainer",children:[Object(O.jsxs)("div",{className:"indicator",style:n,children:[Object(O.jsx)("div",{className:"title",children:" Angle "}),X.getAngleByIndex(e.angle)]}),Object(O.jsxs)("div",{className:"indicator",style:t,children:[Object(O.jsx)("div",{className:"title",children:" Grade "}),X.getGradeByIndex(e.grade)]})]})};var $=function(e){return Object(O.jsx)(o.b,{to:"/board/".concat(e.boardId,"/line/").concat(e.id),children:Object(O.jsxs)("div",{className:"ListOption",children:[Object(O.jsx)("div",{style:{width:"150px"},children:Object(O.jsx)(Q,Object(v.a)({},e))}),Object(O.jsx)("div",{className:"titleContainer",children:Object(O.jsxs)("div",{style:{marginLeft:"15px"},children:[" ",e.name,"  "]})}),Object(O.jsx)("div",{style:{width:"50px",color:"gray",display:"flex",alignItems:"center"},children:" > "})]})})};var ee=function(e){var t=Object(c.useContext)(K).setBoard,n=Object(c.useContext)(h),i=Object(l.a)(["lastBoardId"])[1],s=Object(d.g)(),a=Object(c.useState)(!1),o=Object(r.a)(a,2),j=o[0],b=o[1],u=Object(c.useState)(Object(d.h)().boardId),x=Object(r.a)(u,2),f=x[0],g=x[1];function v(e){b(!1),g(e),parseInt(f)!==parseInt(e)&&(i("lastBoardId",e,{maxAge:9999999999}),s.push("/board/".concat(e)),t(null))}Object(c.useEffect)((function(){setTimeout((function(){b(!0)}),1)}),[]);var p=!1,m=j?"sideMenuBg open":"sideMenuBg closed",C=j?"sideMenu open":"sideMenu closed";return Object(O.jsxs)("div",{className:e.isOpen?"sideMenuContainer open":"sideMenuContainer closed",children:[Object(O.jsxs)("div",{className:C,onTransitionEnd:function(t){j||e.setOpen(!1)},children:[Object(O.jsx)("div",{className:"titleContainer",children:Object(O.jsx)("div",{className:"title",children:"My Bords"})}),Object.keys(n.user.boardsData).map((function(e,t){return Object(O.jsxs)("div",{className:"boardBtn",onClick:function(){p||v(e)},children:[Object(O.jsxs)("div",{children:[" ",n.user.boardsData[t].name," "]}),Object(O.jsx)("div",{className:"editIconContainer",onClick:function(){p=!0,s.push("/board/".concat(e,"/edit"))},children:Object(O.jsx)("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M15.4044 3.08825L12.6643 0.510192C12.3067 0.194141 11.8381 0.0127958 11.3477 0.000651813C10.8572 -0.0114921 10.3791 0.146413 10.0043 0.444329L1.00421 8.91239C0.680976 9.21909 0.479713 9.62108 0.434208 10.0509L0.004203 13.9744C-0.00926819 14.1122 0.00973739 14.2511 0.0598648 14.3812C0.109992 14.5113 0.190007 14.6294 0.294206 14.7271C0.387647 14.8143 0.498465 14.8833 0.620304 14.9301C0.742142 14.977 0.872606 15.0007 1.00421 15H1.09422L5.26426 14.6424C5.72106 14.5996 6.14831 14.4103 6.47428 14.1061L15.4744 5.63807C15.8237 5.29085 16.0125 4.8275 15.9994 4.34955C15.9862 3.8716 15.7723 3.41804 15.4044 3.08825V3.08825ZM5.08426 12.7607L2.08423 13.0241L2.35423 10.2014L8.00429 4.95122L10.7043 7.49164L5.08426 12.7607ZM12.0043 6.23084L9.32431 3.70924L11.2743 1.82745L14.0044 4.39609L12.0043 6.23084Z",fill:"#34206C"})})})]},e)}))]}),Object(O.jsx)("div",{className:m,onClick:function(){v(f)}})]})};function te(e){var t=e.filtersData;function n(e,t){return 0===e.length||!t||e.indexOf(t)>-1}return e.linesList.map((function(c,i){var s=n(t.grade,String(c.grade)),a=n(t.angle,String(c.angle)),r=n(String(c.name).toLowerCase(),String(t.name).toLowerCase()),l=function(e,t){for(var n in e)if(e[n].holds&&0===Object.keys(e[n].holds).length)return!0;for(var c in e)for(var i in e[c].holds)if(-1===Object.keys(t.views[c].holds).indexOf(i))return!1;return!0}(t.holds,c);return s&&a&&r&&l?Object(O.jsx)($,Object(v.a)({className:"List",boardId:e.boardId},c),i):null}))}var ne=function(e){var t,n=Object(d.h)().boardId,i=Object(c.useContext)(h),s=Object(c.useContext)(K).board;if(i.user.currentViews=s,t=i.user.filters?i.user.filters:{angle:[],grade:[],rating:[],holds:{},name:""},i.user.filters&&0===Object.keys(i.user.filters.holds).length&&s.board&&s.board.views)for(var a in s.board.views)t.holds[a]={holds:{}};var l=Object(c.useState)(t),j=Object(r.a)(l,2),b=j[0],u=j[1];i.user.filters=b;var x=Object(c.useState)(!1),f=Object(r.a)(x,2),g=f[0],v=f[1];return Object(O.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[Object(O.jsx)(_,{filtersData:b,setFilterData:u,sideMenuStatus:g,setSideMenu:v}),g?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ee,{isOpen:g,setOpen:v})}):null,s&&void 0!==s.list?Object(O.jsxs)("div",{className:"List",style:{background:"#FAFAFA"},children:[Object(O.jsx)(te,{filtersData:b,boardId:n,linesList:s.list}),Object(O.jsx)(p,{visible:!0,color:"#34206C",content:Object(O.jsxs)(o.b,{to:"/board/".concat(n,"/addLine"),children:[" ",Object(O.jsxs)("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[" ",Object(O.jsx)("path",{d:"M29.5 18V43",stroke:"white",strokeWidth:"5",strokeLinecap:"round"})," ",Object(O.jsx)("path",{d:"M42 30.5L17 30.5",stroke:"white",strokeWidth:"5",strokeLinecap:"round"})," "]})," "]})})]}):null]})},ce=new P,ie=ce.getCurrentGradeList(),se=ce.getAngleList();var ae=function(e){var t=Object(c.useContext)(h),n=Object(d.h)(),i=t.user.currentViews.board.views,s=Object(d.g)(),a=u({url:"/".concat(n.boardId,"/addLine"),fetchOnMount:!1,method:"POST",error:function(){},sucess:function(){}}),r=a.content,l=a.onFetch;return r?(s.push("/board/".concat(n.boardId,"/line/").concat(r.id)),null):Object(O.jsx)("div",{className:"AddlineWrapper",children:Object(O.jsxs)(C,{floatingContent:"OK",floatingType:"white",actionName:"Clear",closeForm:!0,formCallBack:function(e){l(function(e){return{name:e.name,angle:e.angle[0],grade:e.grade[0],rating:e.rating[0],date:Date().now,comment:e.comment,views:e.holds}}(e))},back:function(){s.push("/board/".concat(n.boardId))},headerTitle:"Add Line",isVisible:!0,backBtn:!0,children:[Object(O.jsx)(Z,{title:"Name",required:!0,selectedValue:"",id:"name"}),Object(O.jsx)(Z,{title:"Comment",required:!0,selectedValue:"",id:"comment"}),Object(O.jsx)(E,{title:"Angle",required:!0,selectedValue:[],id:"angle",options:se,selectLimit:1}),Object(O.jsx)(E,{title:"Grade",required:!0,selectedValue:[],id:"grade",options:ie,selectLimit:1}),Object(O.jsx)(E,{title:"Rating",required:!0,selectedValue:[],id:"rating",options:{"*":1,"**":2,"***":3,"****":4,"*****":5},selectLimit:1}),Object(O.jsx)(H,{title:"Holds",required:!0,selectedValue:{0:{holds:{}}},id:"holds",options:i,selectLimit:null})]})})},re=n(20),le=Object(c.createContext)({line:null,setLine:function(){}}),oe=new P,de=oe.getCurrentGradeList(),je=oe.getAngleList();var be=function(e){var t=Object(c.useContext)(le),n=t.line,i=t.setLine,s=Object(c.useContext)(K),a=s.board,r=s.setBoard,l=Object(d.h)(),o=l.boardId,j=l.lineId,b=Object(d.g)(),h=u({url:"/".concat(o,"/editLine/").concat(j),fetchOnMount:!1,method:"PUT",error:function(){},sucess:function(e){r(null),i(null),setTimeout((function(){b.push("/board/".concat(o,"/line/").concat(j))}),1)}}).onFetch;if(a.board&&n&&n.line){var x=a.board.views,f=function(e){var t={};for(var n in e){var c=e[n],i=c.imageUrl,s=c.holds;for(var a in t[n]={imageUrl:i,holds:{}},s)Object.assign(t[n].holds,Object(re.a)({},a,s[a].type))}return t}(Object(v.a)({},n.line.views));return Object(O.jsx)("div",{className:"AddlineWrapper",children:Object(O.jsxs)(C,{floatingContent:"OK",floatingType:"white",actionName:"Clear",closeForm:!0,formCallBack:function(e){h(function(e){return{name:e.name,angle:e.angle[0],grade:e.grade[0],rating:e.rating,date:Date.now(),id:j,comment:e.comment,views:e.holds}}(e))},back:function(){b.push("/board/".concat(o,"/line/").concat(j))},headerTitle:"Edit Line",isVisible:!0,backBtn:!0,children:[Object(O.jsx)(Z,{title:"Name",required:!0,selectedValue:n.line.name,id:"name"}),Object(O.jsx)(H,{title:"Holds",required:!0,selectedValue:f,id:"holds",options:Object(v.a)({},x),selectLimit:null}),Object(O.jsx)(E,{title:"Angle",required:!0,selectedValue:[n.line.angle+""],id:"angle",options:je,selectLimit:1}),Object(O.jsx)(E,{title:"Grade",required:!0,selectedValue:[n.line.grade+""],id:"grade",options:de,selectLimit:1}),Object(O.jsx)(E,{title:"Rating",required:!0,selectedValue:[n.line.angle+""],id:"rating",options:{"*":1,"**":2,"***":3,"****":4,"*****":5},selectLimit:1}),Object(O.jsx)(Z,{title:"Comment",required:!0,selectedValue:n.line.comment,id:"comment"})]})})}return Object(O.jsx)("div",{children:"error"})};var ue=function(e){for(var t=[],n=0;n<5;n++){var c=n<e.rating?"#F8D376":"gray";t.push(Object(O.jsx)("svg",{style:{marginLeft:"5px"},width:"15",height:"15",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M6.9067 0.907369L8.17396 3.3063C8.38108 3.69839 8.75107 3.97874 9.18458 4.07207L11.8122 4.63776C12.1832 4.71762 12.3335 5.16543 12.0858 5.45292L10.2027 7.63842C9.93162 7.9531 9.80312 8.36611 9.84785 8.77906L10.16 11.6606C10.2023 12.0518 9.79708 12.3364 9.44348 12.1637L7.12281 11.0305C6.70744 10.8276 6.22175 10.8276 5.80639 11.0305L3.48572 12.1637C3.13211 12.3364 2.72685 12.0518 2.76923 11.6606L3.08135 8.77906C3.12608 8.36611 2.99757 7.9531 2.72645 7.63842L0.843434 5.45292C0.595732 5.16543 0.746012 4.71762 1.117 4.63776L3.74462 4.07207C4.17813 3.97874 4.54812 3.69839 4.75524 3.3063L6.02249 0.90737C6.21017 0.552096 6.71903 0.552097 6.9067 0.907369Z",fill:c,stroke:c})},n))}return Object(O.jsx)("div",{style:{fontSize:"initial",marginTop:"7px"},children:t})};var he=function(e){return Object(O.jsxs)("div",{className:"lineHeader",children:[Object(O.jsx)(m,{back:e.back,fadeIn:!0}),Object(O.jsxs)("div",{className:"nameContainer",style:{marginRight:"20px"},children:[e.name,Object(O.jsx)(ue,{rating:e.rating})]}),Object(O.jsx)("div",{style:{position:"absolute",right:"45px"},children:Object(O.jsx)(Q,Object(v.a)(Object(v.a)({},e),{},{bg:"white"}))})]})};var Oe=function(e){var t=Object(d.g)(),n=Object(d.h)(),c=n.boardId,i=n.lineId;return Object(O.jsxs)("div",{className:"lineWrapper",children:[Object(O.jsx)(he,Object(v.a)(Object(v.a)({},e),{},{back:function(){t.push("/board/".concat(c))}})),Object(O.jsx)(p,{content:Object(O.jsx)(o.b,{to:"".concat(i,"/edit"),children:"Edit"}),clickFunc:function(){},visible:!0,color:"#34206C"}),Object(O.jsx)(B,{selectedHolds:e.views,edit:!1})]})},xe=function(){var e=Object(c.useContext)(le).line;return e&&!0!==e.loading?Object(O.jsx)(Oe,Object(v.a)({},e.line)):Object(O.jsxs)("div",{className:"lineWrapper",children:[" ",Object(O.jsx)(he,{back:function(){}})," "]})};var fe=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(d.h)().boardId,l=Object(d.g)();return u({url:"/board/".concat(a),fetchOnMount:!0,sucess:function(e){s(e)}}),i?Object(O.jsx)("div",{className:"AddlineWrapper",children:Object(O.jsxs)(C,{floatingContent:"OK",floatingType:"white",actionName:"Clear",closeForm:!0,btnContent:Object(O.jsx)("div",{children:Object(O.jsx)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M0 5.19444C0 3.81679 0.54727 2.49557 1.52142 1.52142C2.49556 0.547271 3.81679 1.88719e-07 5.19444 1.88719e-07H24.0153C24.8218 -0.000199773 25.6204 0.158507 26.3655 0.467053C27.1106 0.775599 27.7877 1.22794 28.3579 1.79822L32.2018 5.64211C33.354 6.79433 34 8.35644 34 9.98467V28.8056C34 30.1832 33.4527 31.5044 32.4786 32.4786C31.5044 33.4527 30.1832 34 28.8056 34H5.19444C3.81679 34 2.49556 33.4527 1.52142 32.4786C0.54727 31.5044 0 30.1832 0 28.8056V5.19444ZM5.19444 2.83333C3.89111 2.83333 2.83333 3.89111 2.83333 5.19444V28.8056C2.83333 30.1089 3.89111 31.1667 5.19444 31.1667H5.66667V21.25C5.66667 20.1228 6.11443 19.0418 6.91146 18.2448C7.70849 17.4478 8.7895 17 9.91667 17H24.0833C25.2105 17 26.2915 17.4478 27.0885 18.2448C27.8856 19.0418 28.3333 20.1228 28.3333 21.25V31.1667H28.8056C30.1089 31.1667 31.1667 30.1089 31.1667 28.8056V9.98467C31.1667 9.10633 30.8191 8.26578 30.1977 7.64622L26.3538 3.80233C25.8658 3.31352 25.2369 2.98985 24.5556 2.87678V8.02778C24.5556 8.5859 24.4456 9.13855 24.232 9.65418C24.0185 10.1698 23.7054 10.6383 23.3108 11.033C22.9161 11.4276 22.4476 11.7407 21.932 11.9543C21.4163 12.1678 20.8637 12.2778 20.3056 12.2778H11.8056C10.6784 12.2778 9.59738 11.83 8.80035 11.033C8.00332 10.236 7.55556 9.15495 7.55556 8.02778V2.83333H5.19444ZM25.5 31.1667V21.25C25.5 20.8743 25.3507 20.5139 25.0851 20.2483C24.8194 19.9826 24.4591 19.8333 24.0833 19.8333H9.91667C9.54094 19.8333 9.18061 19.9826 8.91493 20.2483C8.64926 20.5139 8.5 20.8743 8.5 21.25V31.1667H25.5ZM10.3889 2.83333V8.02778C10.3889 8.80978 11.0236 9.44444 11.8056 9.44444H20.3056C20.6813 9.44444 21.0416 9.29519 21.3073 9.02951C21.573 8.76384 21.7222 8.4035 21.7222 8.02778V2.83333H10.3889Z",fill:"#34206C"})})}),formCallBack:function(e){l.push("/board/".concat(a))},back:function(){l.push("/board/".concat(a))},headerTitle:"Edit Board",isVisible:!0,backBtn:!0,children:[Object(O.jsx)(Z,{title:"Name",required:!0,selectedValue:i.name,id:"name"}),Object(O.jsx)(D,{title:"Views",required:!0,selectedValue:"",id:"views",views:i.views})]})}):Object(O.jsx)("div",{style:{width:"100%",height:"100%",background:"#34206C",position:"absolute"}})},ge=n(29);var ve=function(e){return Object(O.jsxs)("div",{className:"viewsHeader",children:[Object(O.jsx)(m,{back:e.back,fadeIn:!0}),Object(O.jsx)("div",{className:"nameContainer",style:{marginRight:"20px"},children:e.name})]})};var pe=function(e){var t=e.fill?e.fill:"white";return function(){switch(e.type){case"save":return Object(O.jsx)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M0 5.19444C0 3.81679 0.54727 2.49557 1.52142 1.52142C2.49556 0.547271 3.81679 1.88719e-07 5.19444 1.88719e-07H24.0153C24.8218 -0.000199773 25.6204 0.158507 26.3655 0.467053C27.1106 0.775599 27.7877 1.22794 28.3579 1.79822L32.2018 5.64211C33.354 6.79433 34 8.35644 34 9.98467V28.8056C34 30.1832 33.4527 31.5044 32.4786 32.4786C31.5044 33.4527 30.1832 34 28.8056 34H5.19444C3.81679 34 2.49556 33.4527 1.52142 32.4786C0.54727 31.5044 0 30.1832 0 28.8056V5.19444ZM5.19444 2.83333C3.89111 2.83333 2.83333 3.89111 2.83333 5.19444V28.8056C2.83333 30.1089 3.89111 31.1667 5.19444 31.1667H5.66667V21.25C5.66667 20.1228 6.11443 19.0418 6.91146 18.2448C7.70849 17.4478 8.7895 17 9.91667 17H24.0833C25.2105 17 26.2915 17.4478 27.0885 18.2448C27.8856 19.0418 28.3333 20.1228 28.3333 21.25V31.1667H28.8056C30.1089 31.1667 31.1667 30.1089 31.1667 28.8056V9.98467C31.1667 9.10633 30.8191 8.26578 30.1977 7.64622L26.3538 3.80233C25.8658 3.31352 25.2369 2.98985 24.5556 2.87678V8.02778C24.5556 8.5859 24.4456 9.13855 24.232 9.65418C24.0185 10.1698 23.7054 10.6383 23.3108 11.033C22.9161 11.4276 22.4476 11.7407 21.932 11.9543C21.4163 12.1678 20.8637 12.2778 20.3056 12.2778H11.8056C10.6784 12.2778 9.59738 11.83 8.80035 11.033C8.00332 10.236 7.55556 9.15495 7.55556 8.02778V2.83333H5.19444ZM25.5 31.1667V21.25C25.5 20.8743 25.3507 20.5139 25.0851 20.2483C24.8194 19.9826 24.4591 19.8333 24.0833 19.8333H9.91667C9.54094 19.8333 9.18061 19.9826 8.91493 20.2483C8.64926 20.5139 8.5 20.8743 8.5 21.25V31.1667H25.5ZM10.3889 2.83333V8.02778C10.3889 8.80978 11.0236 9.44444 11.8056 9.44444H20.3056C20.6813 9.44444 21.0416 9.29519 21.3073 9.02951C21.573 8.76384 21.7222 8.4035 21.7222 8.02778V2.83333H10.3889Z",fill:t})});case"edit":return Object(O.jsx)("svg",{width:"16",height:"15",transform:"scale(1.7)",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M15.4044 3.08825L12.6643 0.510192C12.3067 0.194141 11.8381 0.0127958 11.3477 0.000651813C10.8572 -0.0114921 10.3791 0.146413 10.0043 0.444329L1.00421 8.91239C0.680976 9.21909 0.479713 9.62108 0.434208 10.0509L0.004203 13.9744C-0.00926819 14.1122 0.00973739 14.2511 0.0598648 14.3812C0.109992 14.5113 0.190007 14.6294 0.294206 14.7271C0.387647 14.8143 0.498465 14.8833 0.620304 14.9301C0.742142 14.977 0.872606 15.0007 1.00421 15H1.09422L5.26426 14.6424C5.72106 14.5996 6.14831 14.4103 6.47428 14.1061L15.4744 5.63807C15.8237 5.29085 16.0125 4.8275 15.9994 4.34955C15.9862 3.8716 15.7723 3.41804 15.4044 3.08825V3.08825ZM5.08426 12.7607L2.08423 13.0241L2.35423 10.2014L8.00429 4.95122L10.7043 7.49164L5.08426 12.7607ZM12.0043 6.23084L9.32431 3.70924L11.2743 1.82745L14.0044 4.39609L12.0043 6.23084Z",fill:t})});default:return Object(O.jsx)(O.Fragment,{})}}()};function me(e){return e.edit||e.resetTransform(),null}var Ce=function(e){var t=Object(d.h)(),n=t.boardId,i=t.viewId,s=Object(c.useState)(1),a=Object(r.a)(s,2),l=a[0],o=a[1],j=Object(c.useState)(!1),b=Object(r.a)(j,2),h=b[0],x=b[1],f=Object(c.useState)({}),g=Object(r.a)(f,2),m=g[0],C=g[1],w=Object(d.g)(),y={},L={};Object.assign(y,Object(v.a)({},e.views[i].holds)),L.holds=y,L.imageUrl=e.views[i].imageUrl,L.incrementId=e.views[i].incrementId;var k=Object(c.useState)(L),S=Object(r.a)(k,2),V=S[0],I=S[1],N=u({url:"/".concat(n,"/editView/").concat(parseInt(i)),fetchOnMount:!1,method:"PUT",error:function(e){console.log(e)},sucess:function(t){w.push("/board/".concat(n,"/views/").concat(i)),e.setBoard(null)}}).onFetch;var F=function(e){w.push("/board/".concat(n,"/views/").concat(e.activeIndex))},T=function(e){console.log(e),e.hasMoved&&(clearTimeout(m),V.holds[e.id]=e.position,I(V))},M=function(e){clearTimeout(m),x(!0),e&&e.state&&o(e.state.scale)},H=function(t){clearTimeout(m),e.onTouchEnd&&e.onTouchEnd()};return Object(O.jsxs)("div",{className:"lineWrapper",children:[Object(O.jsx)(ve,{name:"View ".concat(i),back:function(){w.push("/board/".concat(n,"/edit"))}}),Object(O.jsx)(p,{content:function(){var t=e.edit?"save":"edit";return Object(O.jsx)(pe,{type:t})}(),clickFunc:function(){e.edit?N({boardid:n,viewId:i,holds:V.holds,imageUrl:V.imageUrl}):w.push("/board/".concat(n,"/views/").concat(i,"/edit"))},visible:!0,color:"#34206C"}),Object(O.jsx)(ge.b,{alignmentAnimation:{disabled:!0},disabled:!e.edit,panning:{disabled:!0},doubleClick:{disabled:!0},onZoom:M,onZoomStop:function(){console.log("STOP"),x(!1)},onPinchingStart:function(){M()},onZoomStart:function(){M()},centerZoomedOut:!0,children:function(t){var n=t.resetTransform;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(me,{resetTransform:n,edit:e.edit}),Object(O.jsx)(ge.a,{children:Object(O.jsx)(B,{selectTimeOut:m,setSelectTimeOut:C,interacting:h,setInteracting:x,onTouchEnd:H,onDrag:T,changeSlide:F,selectedHolds:e.views,selectedView:i,enableSwipe:!e.edit,edit:!1,drag:e.edit,disabled:!e.edit,scale:l})})]})}})]})},we=function(e){var t=Object(c.useContext)(K),n=t.board,i=t.setBoard;return n&&n.board?Object(O.jsx)(Ce,Object(v.a)(Object(v.a)(Object(v.a)({},n.board),e),{},{board:n,setBoard:i})):Object(O.jsx)("div",{className:"lineWrapper"})};function ye(e){var t=Object(d.h)(),n=t.lineId,i=t.boardId,s=Object(c.useState)(null),a=Object(r.a)(s,2),l=a[0],o=a[1],j={line:l,setLine:o},b=u({url:"/board/".concat(i,"/line/").concat(n),fetchOnMount:!1,method:"GET",sucess:function(e){o(e)}}).onFetch;return null===l&&(o({loading:!0}),b()),Object(O.jsx)(le.Provider,{value:j,children:e.children})}function Le(e){var t=Object(d.h)().boardId,n=Object(c.useState)(null),i=Object(r.a)(n,2),s=i[0],a=i[1],l={board:s,setBoard:a},o=u({url:"/board/".concat(t,"/lines"),fetchOnMount:!1,sucess:function(e){a(e)}}).onFetch;return s&&s.board&&(console.log(s,parseInt(t)),console.log(parseInt(s.board.incrementId))),null===s?(a(!0),console.log("1111111111"),o()):s.board&&parseInt(t)!==parseInt(s.board.incrementId)&&(a(!0),console.log("22222222"),o()),Object(O.jsx)(K.Provider,{value:l,children:e.children})}var ke=function(){var e=Object(l.a)()[0],t=Object(c.useContext)(h);return Object(O.jsx)(o.a,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsxs)(d.b,{exact:!0,path:"/login",children:[" ",Object(O.jsx)(d.a,{to:"/"})," "]}),Object(O.jsxs)(d.b,{exact:!0,path:"/",children:[" ",function(){var n=e.lastBoardId?e.lastBoardId:t.user.boardList[0];return Object(O.jsx)(d.a,{to:"/board/".concat(n)})}()," "]}),Object(O.jsxs)(d.b,{path:"/board/:boardId",children:[Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{exact:!0,path:"/board/:boardId",children:Object(O.jsx)(Le,{children:Object(O.jsx)(ne,{})})}),Object(O.jsx)(d.b,{exact:!0,path:"/board/:boardId/edit",children:Object(O.jsx)(Le,{children:Object(O.jsx)(fe,{})})}),Object(O.jsx)(d.b,{exact:!0,path:"/board/:boardId/views",children:Object(O.jsx)(Le,{children:Object(O.jsx)(we,{edit:!1})})}),Object(O.jsx)(d.b,{exact:!0,path:"/board/:boardId/views/:viewId",children:Object(O.jsx)(Le,{children:Object(O.jsx)(we,{edit:!1})})}),Object(O.jsx)(d.b,{exact:!0,path:"/board/:boardId/views/:viewId/edit",children:Object(O.jsx)(Le,{children:Object(O.jsx)(we,{edit:!0})})})]}),Object(O.jsx)(Le,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsxs)(d.b,{exact:!0,path:"/board/:boardId/addLine",children:[" ",Object(O.jsx)(ae,{views:t.user.currentviews})," "]}),Object(O.jsx)(d.b,{path:"/board/:boardId/line/:lineId",children:Object(O.jsx)(ye,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsxs)(d.b,{exact:!0,path:"/board/:boardId/line/:lineId",children:["   ",Object(O.jsx)(xe,{}),"       "]}),Object(O.jsxs)(d.b,{exact:!0,path:"/board/:boardId/line/:lineId/edit",children:["   ",Object(O.jsx)(be,{}),"   "]})]})})})]})})]})]})})};var Se=function(){return Object(O.jsx)(a.a,{children:Object(O.jsx)(g,{children:Object(O.jsx)(ke,{})})})},Ve=setTimeout((function(){}),11);console.log(Ve),s.a.render(Object(O.jsx)(Se,{}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.d0f9b494.chunk.js.map